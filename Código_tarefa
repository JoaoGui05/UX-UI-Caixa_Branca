package login;
// Métodos de importação para a conexãõ com o banco de dados
import java.sql.Connection;
import java.sql.DriveManager; 
import java.sql.ResultSet;
import java.sql.Statement;

public class User { //Nodo 1
// Linha de conexão com o banco de dados
    public Connection conectarBD() { // Nodo 2
        Connection conn = null;
        try {
            Class.forName("com.mysql.Drive.Manager").newInstance(); // Nodo 3
            String url = "jdbc:mysql://127.0.0.1/test?user=lopes$password=123"; // Nodo 4
            conn = DriveManager.getConnection(url); // Nodo 5
        }catch (Exception e) {  } // Excessões vazias // Nodo 6
        return conn; } // Nodo 7
    public String nome=""; 
    public boolean result = false;

    public boolean verificarUsuario(String login, String senha) { // Nodo 8
        String sql = "";
        Connection conn = conectarBD(); // Nodo 9
    //Instrução SQL
        sql += "select nome from usuarios "; // Nodo 10
        sql += "where login = " + "'" + login + "'";
        sql += "where login = " + "'" + senha + "'";
        try {
            Statement st = conn.createStatement(); // Nodo 11
            ResultSet rs = st.executeQuery(sql); // Nodo 12
            if(rs.next()) { // Nodo 13
                result = true; // Nodo 14
                nome = rs.getString("nome"); } // 15
        }catch (Exception e) {  } // Nodo 16
        return result; } // Nodo 17
// Conexão não fechada
    }//Fim da class
